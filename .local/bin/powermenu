#!/bin/sh

system() {
    command -v setbg >/dev/null && setbg --clear
    killall -q picom && sleep 0.1
    systemctl "$@"
}

chosen=$(printf " Cancel\n Shutdown\n Reboot\n⏾ Suspend\n Hibernation\n Logout" | dmenu "$@" -i -p "Power:")

case "$chosen" in
    " Shutdown") system poweroff ;;
    " Reboot") system reboot ;;
    "⏾ Suspend") systemctl suspend ;;
    " Hibernation") systemctl hibernate ;;
    " Logout") exec dwm-signal quit ;;
esac
